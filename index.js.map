{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/markup-tasks.js","../src/js/render-tasks.js","../src/js/local-storage-api.js","../src/js/tasks.js","../src/main.js"],"sourcesContent":["export const refs = {\n  form: document.querySelector('.header-form'),\n  list: document.querySelector('.tasks-list')\n};\n","export function markupTasks(arr){\n    return arr.map(({title, description, id}) => `<li class=\"task-list-item\">\n    <button class=\"task-list-item-btn\" data-id=\"${id}\">Delete</button>\n    <h3>${title}</h3>\n    <p>${description}</p>\n</li>`).join(\"\");\n}","import { markupTasks } from \"./markup-tasks\";\nimport { refs } from \"./refs\";\n\nexport function render(arr){\n    refs.list.innerHTML = markupTasks(arr);\n}","export function saveStorage (key, data){\n    localStorage.setItem(key, JSON.stringify(data));\n}\nexport function getStorage (key){\n    const getLocal = localStorage.getItem(key);\n    if(!getLocal){\n        return null;\n    } \n        return JSON.parse(getLocal);\n};\n\nexport const LOCALKEY_TASKS = \"tasks\";","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { render } from './render-tasks';\nimport { getStorage, LOCALKEY_TASKS, saveStorage } from './local-storage-api';\nimport { nanoid } from 'nanoid';\n\nlet arrTasks = getStorage(LOCALKEY_TASKS) ?? [];\nexport function initTasks() {\n  render(arrTasks);\n}\n\nexport function addTask(evt) {\n  evt.preventDefault();\n\n  const { taskName, taskDescription } = evt.target.elements;\n\n  const title = taskName.value.trim();\n    const description = taskDescription.value.trim();\n\n  if (!title || !description) {\n    iziToast.warning({ message: 'Fill all fields', position: 'center' });\n    return;\n  }\n\n  const task = {\n    title, description, id: nanoid()};\n\n  arrTasks.push(task);\n  render(arrTasks);\n  saveStorage(LOCALKEY_TASKS, arrTasks);\n  evt.target.reset();\n}\n\nexport function deleteTask(event) { \n  if (!event.target.classList.contains(\"task-list-item-btn\")) return;\n  const id = event.target.dataset.id;\n  arrTasks = arrTasks.filter(task => task.id !== id);\n  saveStorage(LOCALKEY_TASKS, arrTasks);\n  render(arrTasks);\n}\n\n\n","import { refs } from './js/refs';\nimport { addTask, deleteTask, initTasks } from './js/tasks';\n\n\n\ninitTasks();\nrefs.list.addEventListener('click', deleteTask);\nrefs.form.addEventListener('submit', addTask);\n\n"],"names":["refs","markupTasks","arr","title","description","id","render","saveStorage","key","data","getStorage","getLocal","LOCALKEY_TASKS","arrTasks","initTasks","addTask","evt","taskName","taskDescription","iziToast","task","nanoid","deleteTask","event"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,cAAc,EAC3C,KAAM,SAAS,cAAc,aAAa,CAC5C,ECHO,SAASC,EAAYC,EAAI,CAC5B,OAAOA,EAAI,IAAI,CAAC,CAAC,MAAAC,EAAO,YAAAC,EAAa,GAAAC,CAAE,IAAM;AAAA,kDACCA,CAAE;AAAA,UAC1CF,CAAK;AAAA,SACNC,CAAW;AAAA,MACd,EAAE,KAAK,EAAE,CACf,CCHO,SAASE,EAAOJ,EAAI,CACvBF,EAAK,KAAK,UAAYC,EAAYC,CAAG,CACzC,CCLO,SAASK,EAAaC,EAAKC,EAAK,CACnC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAClD,CACO,SAASC,EAAYF,EAAI,CAC5B,MAAMG,EAAW,aAAa,QAAQH,CAAG,EACzC,OAAIG,EAGO,KAAK,MAAMA,CAAQ,EAFnB,IAGf,CAEO,MAAMC,EAAiB,QCL9B,IAAIC,EAAWH,EAAWE,CAAc,GAAK,GACtC,SAASE,GAAY,CAC1BR,EAAOO,CAAQ,CACjB,CAEO,SAASE,EAAQC,EAAK,CAC3BA,EAAI,eAAc,EAElB,KAAM,CAAE,SAAAC,EAAU,gBAAAC,CAAe,EAAKF,EAAI,OAAO,SAE3Cb,EAAQc,EAAS,MAAM,KAAI,EACzBb,EAAcc,EAAgB,MAAM,KAAI,EAEhD,GAAI,CAACf,GAAS,CAACC,EAAa,CAC1Be,EAAS,QAAQ,CAAE,QAAS,kBAAmB,SAAU,QAAQ,CAAE,EACnE,MACD,CAED,MAAMC,EAAO,CACX,MAAAjB,EAAO,YAAAC,EAAa,GAAIiB,EAAQ,CAAA,EAElCR,EAAS,KAAKO,CAAI,EAClBd,EAAOO,CAAQ,EACfN,EAAYK,EAAgBC,CAAQ,EACpCG,EAAI,OAAO,OACb,CAEO,SAASM,EAAWC,EAAO,CAChC,GAAI,CAACA,EAAM,OAAO,UAAU,SAAS,oBAAoB,EAAG,OAC5D,MAAMlB,EAAKkB,EAAM,OAAO,QAAQ,GAChCV,EAAWA,EAAS,OAAOO,GAAQA,EAAK,KAAOf,CAAE,EACjDE,EAAYK,EAAgBC,CAAQ,EACpCP,EAAOO,CAAQ,CACjB,CClCAC,IACAd,EAAK,KAAK,iBAAiB,QAASsB,CAAU,EAC9CtB,EAAK,KAAK,iBAAiB,SAAUe,CAAO"}